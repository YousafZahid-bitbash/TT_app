{"ast":null,"code":"var _jsxFileName = \"/Users/yousafzahid/Documents/TT_shop_Dashboard/frontend/src/components/InventoryTracker.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './InventoryTracker.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InventoryTracker = () => {\n  _s();\n  const [brands, setBrands] = useState([]);\n  const [selectedBrand, setSelectedBrand] = useState('');\n  const [skus, setSkus] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [source, setSource] = useState('database');\n  const [alertLoading, setAlertLoading] = useState({});\n  const API_BASE = 'http://localhost:8000';\n\n  // Fetch brands on component mount\n  useEffect(() => {\n    fetchBrands();\n  }, []);\n\n  // Fetch SKUs when brand changes or source changes\n  useEffect(() => {\n    if (selectedBrand) {\n      fetchSkus(selectedBrand);\n    }\n  }, [selectedBrand, source]);\n  const fetchBrands = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/inventory/brands`);\n      const data = await response.json();\n      if (data.status === 'success') {\n        setBrands(data.brands);\n        if (data.brands.length > 0) {\n          setSelectedBrand(data.brands[0].id.toString());\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching brands:', error);\n    }\n  };\n  const fetchSkus = async brandId => {\n    setLoading(true);\n    try {\n      let url;\n      if (source === 'tiktok') {\n        // Fetch from TikTok API\n        url = `${API_BASE}/inventory/check-stock?brand_id=${brandId}&send_alerts=false&source=tiktok`;\n      } else {\n        // Fetch from database\n        url = `${API_BASE}/inventory/skus?brand_id=${brandId}`;\n      }\n      const response = await fetch(url);\n      const data = await response.json();\n      if (data.status === 'success') {\n        if (source === 'tiktok') {\n          // Transform TikTok data to match expected format\n          const transformedSkus = data.low_stock_items.map(item => ({\n            id: item.sku_id,\n            name: item.sku_name,\n            stock_count: item.current_stock,\n            low_stock_threshold: item.threshold,\n            brand_id: item.brand_id\n          }));\n          setSkus(transformedSkus);\n        } else {\n          setSkus(data.skus);\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching SKUs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const updateStock = async (skuId, newStock) => {\n    try {\n      const response = await fetch(`${API_BASE}/inventory/update-stock?sku_id=${skuId}&stock_count=${newStock}`, {\n        method: 'POST'\n      });\n      const data = await response.json();\n      if (data.status === 'success') {\n        fetchSkus(selectedBrand); // Refresh SKUs\n        alert('Stock updated successfully!');\n      } else {\n        alert('Failed to update stock: ' + data.message);\n      }\n    } catch (error) {\n      console.error('Error updating stock:', error);\n      alert('Error updating stock');\n    }\n  };\n  const updateThreshold = async (skuId, newThreshold) => {\n    try {\n      const response = await fetch(`${API_BASE}/inventory/update-threshold?sku_id=${skuId}&threshold=${newThreshold}`, {\n        method: 'POST'\n      });\n      const data = await response.json();\n      if (data.status === 'success') {\n        fetchSkus(selectedBrand); // Refresh SKUs\n        alert('Threshold updated successfully!');\n      } else {\n        alert('Failed to update threshold: ' + data.message);\n      }\n    } catch (error) {\n      console.error('Error updating threshold:', error);\n      alert('Error updating threshold');\n    }\n  };\n  const sendSlackAlert = async sku => {\n    const skuId = sku.id;\n    setAlertLoading(prev => ({\n      ...prev,\n      [skuId]: true\n    }));\n    try {\n      const alertData = {\n        brand_id: selectedBrand,\n        sku_id: skuId,\n        sku_name: sku.name,\n        current_stock: sku.stock_count,\n        threshold: sku.low_stock_threshold,\n        alert_level: sku.stock_count === 0 ? 'out_of_stock' : 'low_stock',\n        priority: sku.stock_count === 0 ? 'high' : 'medium'\n      };\n      const response = await fetch(`${API_BASE}/inventory/send-alert`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(alertData)\n      });\n      const data = await response.json();\n      if (data.status === 'success') {\n        alert(`‚úÖ Slack alert sent successfully for ${sku.name}!`);\n      } else {\n        alert(`‚ùå Failed to send alert: ${data.message}`);\n      }\n    } catch (error) {\n      console.error('Error sending Slack alert:', error);\n      alert('‚ùå Error sending Slack alert');\n    } finally {\n      setAlertLoading(prev => ({\n        ...prev,\n        [skuId]: false\n      }));\n    }\n  };\n  const getStockStatus = (stock, threshold) => {\n    if (stock === 0) return 'out-of-stock';\n    if (stock <= threshold) return 'low-stock';\n    return 'in-stock';\n  };\n  const getStockStatusColor = status => {\n    switch (status) {\n      case 'out-of-stock':\n        return '#dc3545';\n      case 'low-stock':\n        return '#ffc107';\n      case 'in-stock':\n        return '#28a745';\n      default:\n        return '#6c757d';\n    }\n  };\n  const getStockStatusText = status => {\n    switch (status) {\n      case 'out-of-stock':\n        return 'üö® Out of Stock';\n      case 'low-stock':\n        return '‚ö†Ô∏è Low Stock';\n      case 'in-stock':\n        return '‚úÖ In Stock';\n      default:\n        return '‚ùì Unknown';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inventory-tracker-simple\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inventory-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83D\\uDCE6 Inventory Tracker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"subtitle\",\n          children: \"Monitor and manage your inventory levels\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Brand:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedBrand,\n            onChange: e => setSelectedBrand(e.target.value),\n            className: \"brand-selector\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), brands.map(brand => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: brand.id,\n              children: brand.name\n            }, brand.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Data Source:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: source,\n            onChange: e => setSource(e.target.value),\n            className: \"source-selector\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"database\",\n              children: \"\\uD83D\\uDCCA Database\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"tiktok\",\n              children: \"\\uD83D\\uDECD\\uFE0F TikTok API\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fetchSkus(selectedBrand),\n          className: \"btn btn-refresh\",\n          disabled: loading || !selectedBrand,\n          children: loading ? 'üîÑ Loading...' : 'üîÑ Refresh'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-source-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `source-indicator ${source}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"source-icon\",\n          children: source === 'tiktok' ? 'üõçÔ∏è' : 'üìä'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"source-text\",\n          children: source === 'tiktok' ? 'Live data from TikTok Shop API' : 'Data from local database'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), source === 'database' && /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"source-note\",\n        children: \"\\uD83D\\uDCA1 Switch to TikTok API for real-time inventory data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading inventory data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this) : skus.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83D\\uDCE6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No inventory data found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: !selectedBrand ? 'Please select a brand to view inventory.' : 'No SKUs found for the selected brand.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"inventory-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"SKU Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Current Stock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Threshold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: skus.map(sku => {\n            const status = getStockStatus(sku.stock_count, sku.low_stock_threshold);\n            const isAlertLoading = alertLoading[sku.id];\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: `sku-row ${status}`,\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"sku-name\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"sku-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: sku.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [\"ID: \", sku.id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"stock-count\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: sku.stock_count,\n                  onChange: e => {\n                    const newStock = parseInt(e.target.value) || 0;\n                    updateStock(sku.id, newStock);\n                  },\n                  className: \"stock-input\",\n                  min: \"0\",\n                  disabled: source === 'tiktok' // Can't edit TikTok data\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"threshold\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: sku.low_stock_threshold,\n                  onChange: e => {\n                    const newThreshold = parseInt(e.target.value) || 0;\n                    updateThreshold(sku.id, newThreshold);\n                  },\n                  className: \"threshold-input\",\n                  min: \"0\",\n                  disabled: source === 'tiktok' // Can't edit TikTok data\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"status\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status-indicator\",\n                  style: {\n                    backgroundColor: getStockStatusColor(status)\n                  },\n                  children: getStockStatusText(status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"action-buttons\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      const newStock = prompt('Enter new stock count:', sku.stock_count);\n                      if (newStock !== null && newStock !== '') {\n                        updateStock(sku.id, parseInt(newStock) || 0);\n                      }\n                    },\n                    className: \"btn btn-sm btn-edit\",\n                    disabled: source === 'tiktok',\n                    title: source === 'tiktok' ? 'Cannot edit TikTok API data' : 'Edit stock count',\n                    children: \"\\uD83D\\uDCDD Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => sendSlackAlert(sku),\n                    className: \"btn btn-sm btn-alert\",\n                    disabled: isAlertLoading,\n                    title: \"Send Slack alert for this SKU\",\n                    children: [isAlertLoading ? '‚è≥' : 'üîî', \" Alert\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this)]\n            }, sku.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), skus.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"Total SKUs:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          children: skus.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"Low Stock:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value warning\",\n          children: skus.filter(sku => getStockStatus(sku.stock_count, sku.low_stock_threshold) === 'low-stock').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"Out of Stock:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value danger\",\n          children: skus.filter(sku => sku.stock_count === 0).length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_s(InventoryTracker, \"Gz1qquF+MkxsmGSIEy2CJWRcSk8=\");\n_c = InventoryTracker;\nexport default InventoryTracker;\nvar _c;\n$RefreshReg$(_c, \"InventoryTracker\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","InventoryTracker","_s","brands","setBrands","selectedBrand","setSelectedBrand","skus","setSkus","loading","setLoading","source","setSource","alertLoading","setAlertLoading","API_BASE","fetchBrands","fetchSkus","response","fetch","data","json","status","length","id","toString","error","console","brandId","url","transformedSkus","low_stock_items","map","item","sku_id","name","sku_name","stock_count","current_stock","low_stock_threshold","threshold","brand_id","updateStock","skuId","newStock","method","alert","message","updateThreshold","newThreshold","sendSlackAlert","sku","prev","alertData","alert_level","priority","headers","body","JSON","stringify","getStockStatus","stock","getStockStatusColor","getStockStatusText","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","brand","onClick","disabled","isAlertLoading","type","parseInt","min","style","backgroundColor","prompt","title","filter","_c","$RefreshReg$"],"sources":["/Users/yousafzahid/Documents/TT_shop_Dashboard/frontend/src/components/InventoryTracker.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './InventoryTracker.css';\n\nconst InventoryTracker = () => {\n  const [brands, setBrands] = useState([]);\n  const [selectedBrand, setSelectedBrand] = useState('');\n  const [skus, setSkus] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [source, setSource] = useState('database');\n  const [alertLoading, setAlertLoading] = useState({});\n\n  const API_BASE = 'http://localhost:8000';\n\n  // Fetch brands on component mount\n  useEffect(() => {\n    fetchBrands();\n  }, []);\n\n  // Fetch SKUs when brand changes or source changes\n  useEffect(() => {\n    if (selectedBrand) {\n      fetchSkus(selectedBrand);\n    }\n  }, [selectedBrand, source]);\n\n  const fetchBrands = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/inventory/brands`);\n      const data = await response.json();\n      if (data.status === 'success') {\n        setBrands(data.brands);\n        if (data.brands.length > 0) {\n          setSelectedBrand(data.brands[0].id.toString());\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching brands:', error);\n    }\n  };\n\n  const fetchSkus = async (brandId) => {\n    setLoading(true);\n    try {\n      let url;\n      if (source === 'tiktok') {\n        // Fetch from TikTok API\n        url = `${API_BASE}/inventory/check-stock?brand_id=${brandId}&send_alerts=false&source=tiktok`;\n      } else {\n        // Fetch from database\n        url = `${API_BASE}/inventory/skus?brand_id=${brandId}`;\n      }\n      \n      const response = await fetch(url);\n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        if (source === 'tiktok') {\n          // Transform TikTok data to match expected format\n          const transformedSkus = data.low_stock_items.map(item => ({\n            id: item.sku_id,\n            name: item.sku_name,\n            stock_count: item.current_stock,\n            low_stock_threshold: item.threshold,\n            brand_id: item.brand_id\n          }));\n          setSkus(transformedSkus);\n        } else {\n          setSkus(data.skus);\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching SKUs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateStock = async (skuId, newStock) => {\n    try {\n      const response = await fetch(\n        `${API_BASE}/inventory/update-stock?sku_id=${skuId}&stock_count=${newStock}`,\n        { method: 'POST' }\n      );\n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        fetchSkus(selectedBrand); // Refresh SKUs\n        alert('Stock updated successfully!');\n      } else {\n        alert('Failed to update stock: ' + data.message);\n      }\n    } catch (error) {\n      console.error('Error updating stock:', error);\n      alert('Error updating stock');\n    }\n  };\n\n  const updateThreshold = async (skuId, newThreshold) => {\n    try {\n      const response = await fetch(\n        `${API_BASE}/inventory/update-threshold?sku_id=${skuId}&threshold=${newThreshold}`,\n        { method: 'POST' }\n      );\n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        fetchSkus(selectedBrand); // Refresh SKUs\n        alert('Threshold updated successfully!');\n      } else {\n        alert('Failed to update threshold: ' + data.message);\n      }\n    } catch (error) {\n      console.error('Error updating threshold:', error);\n      alert('Error updating threshold');\n    }\n  };\n\n  const sendSlackAlert = async (sku) => {\n    const skuId = sku.id;\n    setAlertLoading(prev => ({ ...prev, [skuId]: true }));\n    \n    try {\n      const alertData = {\n        brand_id: selectedBrand,\n        sku_id: skuId,\n        sku_name: sku.name,\n        current_stock: sku.stock_count,\n        threshold: sku.low_stock_threshold,\n        alert_level: sku.stock_count === 0 ? 'out_of_stock' : 'low_stock',\n        priority: sku.stock_count === 0 ? 'high' : 'medium'\n      };\n\n      const response = await fetch(\n        `${API_BASE}/inventory/send-alert`,\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(alertData)\n        }\n      );\n      \n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        alert(`‚úÖ Slack alert sent successfully for ${sku.name}!`);\n      } else {\n        alert(`‚ùå Failed to send alert: ${data.message}`);\n      }\n    } catch (error) {\n      console.error('Error sending Slack alert:', error);\n      alert('‚ùå Error sending Slack alert');\n    } finally {\n      setAlertLoading(prev => ({ ...prev, [skuId]: false }));\n    }\n  };\n\n  const getStockStatus = (stock, threshold) => {\n    if (stock === 0) return 'out-of-stock';\n    if (stock <= threshold) return 'low-stock';\n    return 'in-stock';\n  };\n\n  const getStockStatusColor = (status) => {\n    switch (status) {\n      case 'out-of-stock': return '#dc3545';\n      case 'low-stock': return '#ffc107';\n      case 'in-stock': return '#28a745';\n      default: return '#6c757d';\n    }\n  };\n\n  const getStockStatusText = (status) => {\n    switch (status) {\n      case 'out-of-stock': return 'üö® Out of Stock';\n      case 'low-stock': return '‚ö†Ô∏è Low Stock';\n      case 'in-stock': return '‚úÖ In Stock';\n      default: return '‚ùì Unknown';\n    }\n  };\n\n  return (\n    <div className=\"inventory-tracker-simple\">\n      {/* Header */}\n      <div className=\"inventory-header\">\n        <div className=\"header-left\">\n          <h1>üì¶ Inventory Tracker</h1>\n          <p className=\"subtitle\">Monitor and manage your inventory levels</p>\n        </div>\n        \n        <div className=\"header-controls\">\n          <div className=\"control-group\">\n            <label>Brand:</label>\n            <select \n              value={selectedBrand} \n              onChange={(e) => setSelectedBrand(e.target.value)}\n              className=\"brand-selector\"\n            >\n              <option value=\"\">Select Brand</option>\n              {brands.map(brand => (\n                <option key={brand.id} value={brand.id}>\n                  {brand.name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"control-group\">\n            <label>Data Source:</label>\n            <select \n              value={source} \n              onChange={(e) => setSource(e.target.value)}\n              className=\"source-selector\"\n            >\n              <option value=\"database\">üìä Database</option>\n              <option value=\"tiktok\">üõçÔ∏è TikTok API</option>\n            </select>\n          </div>\n          \n          <button \n            onClick={() => fetchSkus(selectedBrand)} \n            className=\"btn btn-refresh\"\n            disabled={loading || !selectedBrand}\n          >\n            {loading ? 'üîÑ Loading...' : 'üîÑ Refresh'}\n          </button>\n        </div>\n      </div>\n\n      {/* Data Source Info */}\n      <div className=\"data-source-info\">\n        <div className={`source-indicator ${source}`}>\n          <span className=\"source-icon\">\n            {source === 'tiktok' ? 'üõçÔ∏è' : 'üìä'}\n          </span>\n          <span className=\"source-text\">\n            {source === 'tiktok' \n              ? 'Live data from TikTok Shop API' \n              : 'Data from local database'}\n          </span>\n        </div>\n        {source === 'database' && (\n          <small className=\"source-note\">\n            üí° Switch to TikTok API for real-time inventory data\n          </small>\n        )}\n      </div>\n\n      {/* Inventory Table */}\n      <div className=\"table-container\">\n        {loading ? (\n          <div className=\"loading-state\">\n            <div className=\"spinner\"></div>\n            <p>Loading inventory data...</p>\n          </div>\n        ) : skus.length === 0 ? (\n          <div className=\"empty-state\">\n            <div className=\"empty-icon\">üì¶</div>\n            <h3>No inventory data found</h3>\n            <p>\n              {!selectedBrand \n                ? 'Please select a brand to view inventory.'\n                : 'No SKUs found for the selected brand.'}\n            </p>\n          </div>\n        ) : (\n          <table className=\"inventory-table\">\n            <thead>\n              <tr>\n                <th>SKU Name</th>\n                <th>Current Stock</th>\n                <th>Threshold</th>\n                <th>Status</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {skus.map(sku => {\n                const status = getStockStatus(sku.stock_count, sku.low_stock_threshold);\n                const isAlertLoading = alertLoading[sku.id];\n                \n                return (\n                  <tr key={sku.id} className={`sku-row ${status}`}>\n                    <td className=\"sku-name\">\n                      <div className=\"sku-info\">\n                        <strong>{sku.name}</strong>\n                        <small>ID: {sku.id}</small>\n                      </div>\n                    </td>\n                    \n                    <td className=\"stock-count\">\n                      <input\n                        type=\"number\"\n                        value={sku.stock_count}\n                        onChange={(e) => {\n                          const newStock = parseInt(e.target.value) || 0;\n                          updateStock(sku.id, newStock);\n                        }}\n                        className=\"stock-input\"\n                        min=\"0\"\n                        disabled={source === 'tiktok'} // Can't edit TikTok data\n                      />\n                    </td>\n                    \n                    <td className=\"threshold\">\n                      <input\n                        type=\"number\"\n                        value={sku.low_stock_threshold}\n                        onChange={(e) => {\n                          const newThreshold = parseInt(e.target.value) || 0;\n                          updateThreshold(sku.id, newThreshold);\n                        }}\n                        className=\"threshold-input\"\n                        min=\"0\"\n                        disabled={source === 'tiktok'} // Can't edit TikTok data\n                      />\n                    </td>\n                    \n                    <td className=\"status\">\n                      <span \n                        className=\"status-indicator\"\n                        style={{ backgroundColor: getStockStatusColor(status) }}\n                      >\n                        {getStockStatusText(status)}\n                      </span>\n                    </td>\n                    \n                    <td className=\"actions\">\n                      <div className=\"action-buttons\">\n                        <button\n                          onClick={() => {\n                            const newStock = prompt('Enter new stock count:', sku.stock_count);\n                            if (newStock !== null && newStock !== '') {\n                              updateStock(sku.id, parseInt(newStock) || 0);\n                            }\n                          }}\n                          className=\"btn btn-sm btn-edit\"\n                          disabled={source === 'tiktok'}\n                          title={source === 'tiktok' ? 'Cannot edit TikTok API data' : 'Edit stock count'}\n                        >\n                          üìù Edit\n                        </button>\n                        \n                        <button\n                          onClick={() => sendSlackAlert(sku)}\n                          className=\"btn btn-sm btn-alert\"\n                          disabled={isAlertLoading}\n                          title=\"Send Slack alert for this SKU\"\n                        >\n                          {isAlertLoading ? '‚è≥' : 'üîî'} Alert\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        )}\n      </div>\n\n      {/* Summary Stats */}\n      {skus.length > 0 && (\n        <div className=\"summary-stats\">\n          <div className=\"stat-item\">\n            <span className=\"stat-label\">Total SKUs:</span>\n            <span className=\"stat-value\">{skus.length}</span>\n          </div>\n          <div className=\"stat-item\">\n            <span className=\"stat-label\">Low Stock:</span>\n            <span className=\"stat-value warning\">\n              {skus.filter(sku => getStockStatus(sku.stock_count, sku.low_stock_threshold) === 'low-stock').length}\n            </span>\n          </div>\n          <div className=\"stat-item\">\n            <span className=\"stat-label\">Out of Stock:</span>\n            <span className=\"stat-value danger\">\n              {skus.filter(sku => sku.stock_count === 0).length}\n            </span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default InventoryTracker;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}