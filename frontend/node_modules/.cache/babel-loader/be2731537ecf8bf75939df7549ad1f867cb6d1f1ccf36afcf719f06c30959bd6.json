{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import'./InventoryTracker.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InventoryTracker=()=>{const[brands,setBrands]=useState([]);const[selectedBrand,setSelectedBrand]=useState('');const[skus,setSkus]=useState([]);const[loading,setLoading]=useState(false);const[source,setSource]=useState('database');const API_BASE='api';// Fetch brands on component mount\nconst fetchBrands=async()=>{try{const response=await fetch(\"\".concat(API_BASE,\"/inventory/brands\"));const data=await response.json();if(data.status==='success'){setBrands(data.brands);if(data.brands.length>0){setSelectedBrand(data.brands[0].id.toString());}}}catch(error){console.error('Error fetching brands:',error);}};const fetchSkus=useCallback(async brandId=>{setLoading(true);try{let url;if(source==='tiktok'){// Fetch from TikTok API\nurl=\"\".concat(API_BASE,\"/inventory/check-stock?brand_id=\").concat(brandId,\"&send_alerts=false&source=tiktok\");}else{// Fetch from database\nurl=\"\".concat(API_BASE,\"/inventory/skus?brand_id=\").concat(brandId);}const response=await fetch(url);const data=await response.json();if(data.status==='success'){if(source==='tiktok'){// Transform TikTok data to match expected format\nconst transformedSkus=data.low_stock_items.map(item=>({id:item.sku_id,name:item.sku_name,stock_count:item.current_stock,low_stock_threshold:item.threshold,brand_id:item.brand_id}));setSkus(transformedSkus);}else{setSkus(data.skus);}}}catch(error){console.error('Error fetching SKUs:',error);}finally{setLoading(false);}},[source]);// Fetch brands on component mount\nuseEffect(()=>{fetchBrands();},[]);// Fetch SKUs when brand changes or source changes\nuseEffect(()=>{if(selectedBrand){fetchSkus(selectedBrand);}},[selectedBrand,source,fetchSkus]);const updateStock=async(skuId,newStock)=>{try{const response=await fetch(\"\".concat(API_BASE,\"/inventory/update-stock?sku_id=\").concat(skuId,\"&stock_count=\").concat(newStock),{method:'POST'});const data=await response.json();if(data.status==='success'){fetchSkus(selectedBrand);// Refresh SKUs\nalert('Stock updated successfully!');}else{alert('Failed to update stock: '+data.message);}}catch(error){console.error('Error updating stock:',error);alert('Error updating stock');}};const updateThreshold=async(skuId,newThreshold)=>{try{const response=await fetch(\"\".concat(API_BASE,\"/inventory/update-threshold?sku_id=\").concat(skuId,\"&threshold=\").concat(newThreshold),{method:'POST'});const data=await response.json();if(data.status==='success'){fetchSkus(selectedBrand);// Refresh SKUs\nalert('Threshold updated successfully!');}else{alert('Failed to update threshold: '+data.message);}}catch(error){console.error('Error updating threshold:',error);alert('Error updating threshold');}};const getStockStatus=(stock,threshold)=>{if(stock===0)return'out-of-stock';if(stock<=threshold)return'low-stock';return'in-stock';};const getStockStatusColor=status=>{switch(status){case'out-of-stock':return'#dc3545';case'low-stock':return'#ffc107';case'in-stock':return'#28a745';default:return'#6c757d';}};const getStockStatusText=status=>{switch(status){case'out-of-stock':return'üö® Out of Stock';case'low-stock':return'‚ö†Ô∏è Low Stock';case'in-stock':return'‚úÖ In Stock';default:return'‚ùì Unknown';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-tracker-simple\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCE6 Inventory Tracker\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Monitor and manage your inventory levels\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Brand:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedBrand,onChange:e=>setSelectedBrand(e.target.value),className:\"brand-selector\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Brand\"}),brands.map(brand=>/*#__PURE__*/_jsx(\"option\",{value:brand.id,children:brand.name},brand.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Data Source:\"}),/*#__PURE__*/_jsxs(\"select\",{value:source,onChange:e=>setSource(e.target.value),className:\"source-selector\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"database\",children:\"\\uD83D\\uDCCA Database\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tiktok\",children:\"\\uD83D\\uDECD\\uFE0F TikTok API\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchSkus(selectedBrand),className:\"btn btn-refresh\",disabled:loading||!selectedBrand,children:loading?'üîÑ Loading...':'üîÑ Refresh'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"data-source-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"source-indicator \".concat(source),children:[/*#__PURE__*/_jsx(\"span\",{className:\"source-icon\",children:source==='tiktok'?'üõçÔ∏è':'üìä'}),/*#__PURE__*/_jsx(\"span\",{className:\"source-text\",children:source==='tiktok'?'Live data from TikTok Shop API':'Data from local database'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading inventory data...\"})]}):skus.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No inventory data found\"}),/*#__PURE__*/_jsx(\"p\",{children:!selectedBrand?'Please select a brand to view inventory.':'No SKUs found for the selected brand.'})]}):/*#__PURE__*/_jsxs(\"table\",{className:\"inventory-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"SKU Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Current Stock\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Threshold\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:skus.map(sku=>{const status=getStockStatus(sku.stock_count,sku.low_stock_threshold);return/*#__PURE__*/_jsxs(\"tr\",{className:\"sku-row \".concat(status),children:[/*#__PURE__*/_jsx(\"td\",{className:\"sku-name\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sku-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:sku.name}),/*#__PURE__*/_jsxs(\"small\",{children:[\"ID: \",sku.id]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"stock-count\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:sku.stock_count,onChange:e=>{const newStock=parseInt(e.target.value)||0;updateStock(sku.id,newStock);},className:\"stock-input\",min:\"0\",disabled:source==='tiktok'// Can't edit TikTok data\n})}),/*#__PURE__*/_jsx(\"td\",{className:\"threshold\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:sku.low_stock_threshold,onChange:e=>{const newThreshold=parseInt(e.target.value)||0;updateThreshold(sku.id,newThreshold);},className:\"threshold-input\",min:\"0\",disabled:source==='tiktok'// Can't edit TikTok data\n})}),/*#__PURE__*/_jsx(\"td\",{className:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-indicator\",style:{backgroundColor:getStockStatusColor(status)},children:getStockStatusText(status)})}),/*#__PURE__*/_jsx(\"td\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"div\",{className:\"action-buttons\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const newStock=prompt('Enter new stock count:',sku.stock_count);if(newStock!==null&&newStock!==''){updateStock(sku.id,parseInt(newStock)||0);}},className:\"btn btn-sm btn-edit\",disabled:source==='tiktok',title:source==='tiktok'?'Cannot edit TikTok data':'Edit stock count',children:\"\\uD83D\\uDCDD Edit\"})})})]},sku.id);})})]})}),skus.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total SKUs:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:skus.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Low Stock:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value warning\",children:skus.filter(sku=>getStockStatus(sku.stock_count,sku.low_stock_threshold)==='low-stock').length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Out of Stock:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value danger\",children:skus.filter(sku=>sku.stock_count===0).length})]})]})]});};export default InventoryTracker;","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","InventoryTracker","brands","setBrands","selectedBrand","setSelectedBrand","skus","setSkus","loading","setLoading","source","setSource","API_BASE","fetchBrands","response","fetch","concat","data","json","status","length","id","toString","error","console","fetchSkus","brandId","url","transformedSkus","low_stock_items","map","item","sku_id","name","sku_name","stock_count","current_stock","low_stock_threshold","threshold","brand_id","updateStock","skuId","newStock","method","alert","message","updateThreshold","newThreshold","getStockStatus","stock","getStockStatusColor","getStockStatusText","className","children","value","onChange","e","target","brand","onClick","disabled","sku","type","parseInt","min","style","backgroundColor","prompt","title","filter"],"sources":["/Users/yousafzahid/Documents/GitHub/TT_app/frontend/src/components/InventoryTracker.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport './InventoryTracker.css';\n\nconst InventoryTracker = () => {\n  const [brands, setBrands] = useState([]);\n  const [selectedBrand, setSelectedBrand] = useState('');\n  const [skus, setSkus] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [source, setSource] = useState('database');\n\n  const API_BASE = 'api';\n\n  // Fetch brands on component mount\n  \n\n  const fetchBrands = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/inventory/brands`);\n      const data = await response.json();\n      if (data.status === 'success') {\n        setBrands(data.brands);\n        if (data.brands.length > 0) {\n          setSelectedBrand(data.brands[0].id.toString());\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching brands:', error);\n    }\n  };\n\n\n  const fetchSkus = useCallback(async (brandId) => {\n    setLoading(true);\n    try {\n      let url;\n      if (source === 'tiktok') {\n        // Fetch from TikTok API\n        url = `${API_BASE}/inventory/check-stock?brand_id=${brandId}&send_alerts=false&source=tiktok`;\n      } else {\n        // Fetch from database\n        url = `${API_BASE}/inventory/skus?brand_id=${brandId}`;\n      }\n      \n      const response = await fetch(url);\n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        if (source === 'tiktok') {\n          // Transform TikTok data to match expected format\n          const transformedSkus = data.low_stock_items.map(item => ({\n            id: item.sku_id,\n            name: item.sku_name,\n            stock_count: item.current_stock,\n            low_stock_threshold: item.threshold,\n            brand_id: item.brand_id\n          }));\n          setSkus(transformedSkus);\n        } else {\n          setSkus(data.skus);\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching SKUs:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [source]);\n\n  // Fetch brands on component mount\n  \n  useEffect(() => {\n    fetchBrands();\n  }, []);\n\n  // Fetch SKUs when brand changes or source changes\n  useEffect(() => {\n    if (selectedBrand) {\n      fetchSkus(selectedBrand);\n    }\n  }, [selectedBrand, source, fetchSkus]);\n\n\n  const updateStock = async (skuId, newStock) => {\n    try {\n      const response = await fetch(\n        `${API_BASE}/inventory/update-stock?sku_id=${skuId}&stock_count=${newStock}`,\n        { method: 'POST' }\n      );\n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        fetchSkus(selectedBrand); // Refresh SKUs\n        alert('Stock updated successfully!');\n      } else {\n        alert('Failed to update stock: ' + data.message);\n      }\n    } catch (error) {\n      console.error('Error updating stock:', error);\n      alert('Error updating stock');\n    }\n  };\n\n  const updateThreshold = async (skuId, newThreshold) => {\n    try {\n      const response = await fetch(\n        `${API_BASE}/inventory/update-threshold?sku_id=${skuId}&threshold=${newThreshold}`,\n        { method: 'POST' }\n      );\n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        fetchSkus(selectedBrand); // Refresh SKUs\n        alert('Threshold updated successfully!');\n      } else {\n        alert('Failed to update threshold: ' + data.message);\n      }\n    } catch (error) {\n      console.error('Error updating threshold:', error);\n      alert('Error updating threshold');\n    }\n  };\n\n  const getStockStatus = (stock, threshold) => {\n    if (stock === 0) return 'out-of-stock';\n    if (stock <= threshold) return 'low-stock';\n    return 'in-stock';\n  };\n\n  const getStockStatusColor = (status) => {\n    switch (status) {\n      case 'out-of-stock': return '#dc3545';\n      case 'low-stock': return '#ffc107';\n      case 'in-stock': return '#28a745';\n      default: return '#6c757d';\n    }\n  };\n\n  const getStockStatusText = (status) => {\n    switch (status) {\n      case 'out-of-stock': return 'üö® Out of Stock';\n      case 'low-stock': return '‚ö†Ô∏è Low Stock';\n      case 'in-stock': return '‚úÖ In Stock';\n      default: return '‚ùì Unknown';\n    }\n  };\n\n  return (\n    <div className=\"inventory-tracker-simple\">\n      {/* Header */}\n      <div className=\"inventory-header\">\n        <div className=\"header-left\">\n          <h1>üì¶ Inventory Tracker</h1>\n          <p className=\"subtitle\">Monitor and manage your inventory levels</p>\n        </div>\n        \n        <div className=\"header-controls\">\n          <div className=\"control-group\">\n            <label>Brand:</label>\n            <select \n              value={selectedBrand} \n              onChange={(e) => setSelectedBrand(e.target.value)}\n              className=\"brand-selector\"\n            >\n              <option value=\"\">Select Brand</option>\n              {brands.map(brand => (\n                <option key={brand.id} value={brand.id}>\n                  {brand.name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"control-group\">\n            <label>Data Source:</label>\n            <select \n              value={source} \n              onChange={(e) => setSource(e.target.value)}\n              className=\"source-selector\"\n            >\n              <option value=\"database\">üìä Database</option>\n              <option value=\"tiktok\">üõçÔ∏è TikTok API</option>\n            </select>\n          </div>\n          \n          <button \n            onClick={() => fetchSkus(selectedBrand)} \n            className=\"btn btn-refresh\"\n            disabled={loading || !selectedBrand}\n          >\n            {loading ? 'üîÑ Loading...' : 'üîÑ Refresh'}\n          </button>\n        </div>\n      </div>\n\n      {/* Data Source Info */}\n      <div className=\"data-source-info\">\n        <div className={`source-indicator ${source}`}>\n          <span className=\"source-icon\">\n            {source === 'tiktok' ? 'üõçÔ∏è' : 'üìä'}\n          </span>\n          <span className=\"source-text\">\n            {source === 'tiktok' \n              ? 'Live data from TikTok Shop API' \n              : 'Data from local database'}\n          </span>\n        </div>\n      </div>\n\n      {/* Inventory Table */}\n      <div className=\"table-container\">\n        {loading ? (\n          <div className=\"loading-state\">\n            <div className=\"spinner\"></div>\n            <p>Loading inventory data...</p>\n          </div>\n        ) : skus.length === 0 ? (\n          <div className=\"empty-state\">\n            <div className=\"empty-icon\">üì¶</div>\n            <h3>No inventory data found</h3>\n            <p>\n              {!selectedBrand \n                ? 'Please select a brand to view inventory.'\n                : 'No SKUs found for the selected brand.'}\n            </p>\n          </div>\n        ) : (\n          <table className=\"inventory-table\">\n            <thead>\n              <tr>\n                <th>SKU Name</th>\n                <th>Current Stock</th>\n                <th>Threshold</th>\n                <th>Status</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {skus.map(sku => {\n                const status = getStockStatus(sku.stock_count, sku.low_stock_threshold);\n                \n                return (\n                  <tr key={sku.id} className={`sku-row ${status}`}>\n                    <td className=\"sku-name\">\n                      <div className=\"sku-info\">\n                        <strong>{sku.name}</strong>\n                        <small>ID: {sku.id}</small>\n                      </div>\n                    </td>\n                    \n                    <td className=\"stock-count\">\n                      <input\n                        type=\"number\"\n                        value={sku.stock_count}\n                        onChange={(e) => {\n                          const newStock = parseInt(e.target.value) || 0;\n                          updateStock(sku.id, newStock);\n                        }}\n                        className=\"stock-input\"\n                        min=\"0\"\n                        disabled={source === 'tiktok'} // Can't edit TikTok data\n                      />\n                    </td>\n                    \n                    <td className=\"threshold\">\n                      <input\n                        type=\"number\"\n                        value={sku.low_stock_threshold}\n                        onChange={(e) => {\n                          const newThreshold = parseInt(e.target.value) || 0;\n                          updateThreshold(sku.id, newThreshold);\n                        }}\n                        className=\"threshold-input\"\n                        min=\"0\"\n                        disabled={source === 'tiktok'} // Can't edit TikTok data\n                      />\n                    </td>\n                    \n                    <td className=\"status\">\n                      <span \n                        className=\"status-indicator\"\n                        style={{ backgroundColor: getStockStatusColor(status) }}\n                      >\n                        {getStockStatusText(status)}\n                      </span>\n                    </td>\n                    \n                    <td className=\"actions\">\n                      <div className=\"action-buttons\">\n                        <button\n                          onClick={() => {\n                            const newStock = prompt('Enter new stock count:', sku.stock_count);\n                            if (newStock !== null && newStock !== '') {\n                              updateStock(sku.id, parseInt(newStock) || 0);\n                            }\n                          }}\n                          className=\"btn btn-sm btn-edit\"\n                          disabled={source === 'tiktok'}\n                          title={source === 'tiktok' ? 'Cannot edit TikTok data' : 'Edit stock count'}\n                        >\n                          üìù Edit\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        )}\n      </div>\n\n      {/* Summary Stats */}\n      {skus.length > 0 && (\n        <div className=\"summary-stats\">\n          <div className=\"stat-item\">\n            <span className=\"stat-label\">Total SKUs:</span>\n            <span className=\"stat-value\">{skus.length}</span>\n          </div>\n          <div className=\"stat-item\">\n            <span className=\"stat-label\">Low Stock:</span>\n            <span className=\"stat-value warning\">\n              {skus.filter(sku => getStockStatus(sku.stock_count, sku.low_stock_threshold) === 'low-stock').length}\n            </span>\n          </div>\n          <div className=\"stat-item\">\n            <span className=\"stat-label\">Out of Stock:</span>\n            <span className=\"stat-value danger\">\n              {skus.filter(sku => sku.stock_count === 0).length}\n            </span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default InventoryTracker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}