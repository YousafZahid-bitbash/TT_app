{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import axios from'axios';import\"./AdminDashboard.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const[users,setUsers]=useState([]);const[search,setSearch]=useState('');// State to hold the search query\nuseEffect(()=>{// Fetch users and their brands from the API\naxios.get('/api/admin/users')// Adjust URL if deployed differently\n.then(response=>{setUsers(response.data);// Store the data in the state\n}).catch(error=>{console.error(\"Error fetching users:\",error);});},[]);// Filtering function to search by username or brand_name\nconst filteredUsers=users.filter(user=>{const searchLower=search.toLowerCase();return user.username.toLowerCase().includes(searchLower)||user.brand_name.toLowerCase().includes(searchLower);});return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ALL SHOPS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by username or brand name...\",value:search,onChange:e=>setSearch(e.target.value),className:\"search-bar\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"admin-dashboard-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Brand Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredUsers.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.username}),\"  \",/*#__PURE__*/_jsx(\"td\",{children:user.brand_name}),\"  \",/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/shop/\".concat(user.brand_id),children:\"View Shop\"})})]},user.id))})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useState","Link","axios","jsx","_jsx","jsxs","_jsxs","AdminDashboard","users","setUsers","search","setSearch","get","then","response","data","catch","error","console","filteredUsers","filter","user","searchLower","toLowerCase","username","includes","brand_name","className","children","type","placeholder","value","onChange","e","target","map","to","concat","brand_id","id"],"sources":["/Users/yousafzahid/Documents/GitHub/TT_app/frontend/src/components/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport \"./AdminDashboard.css\";\n\nconst AdminDashboard = () => {\n  const [users, setUsers] = useState([]);\n  const [search, setSearch] = useState(''); // State to hold the search query\n\n  useEffect(() => {\n    // Fetch users and their brands from the API\n    axios.get('/api/admin/users')  // Adjust URL if deployed differently\n      .then(response => {\n        setUsers(response.data);  // Store the data in the state\n      })\n      .catch(error => {\n        console.error(\"Error fetching users:\", error);\n      });\n  }, []);\n\n  // Filtering function to search by username or brand_name\n  const filteredUsers = users.filter((user) => {\n    const searchLower = search.toLowerCase();\n    return (\n      user.username.toLowerCase().includes(searchLower) || \n      user.brand_name.toLowerCase().includes(searchLower)\n    );\n  });\n\n  return (\n    <div className=\"admin-dashboard\">\n      <h1>ALL SHOPS</h1>\n\n      {/* Search bar */}\n      <div className=\"search-container\">\n        <input \n          type=\"text\" \n          placeholder=\"Search by username or brand name...\" \n          value={search} \n          onChange={(e) => setSearch(e.target.value)} \n          className=\"search-bar\"\n        />\n      </div>\n\n      {/* Table to display users and brands */}\n      <table className=\"admin-dashboard-table\">\n        <thead>\n          <tr>\n            <th>Username</th>\n            <th>Brand Name</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {filteredUsers.map((user) => (\n            <tr key={user.id}>\n              <td>{user.username}</td>  {/* Displaying username */}\n              <td>{user.brand_name}</td>  {/* Displaying brand name */}\n              <td><Link to={`/admin/shop/${user.brand_id}`}>View Shop</Link></td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default AdminDashboard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAAE;AAE1CD,SAAS,CAAC,IAAM,CACd;AACAG,KAAK,CAACU,GAAG,CAAC,kBAAkB,CAAG;AAAA,CAC5BC,IAAI,CAACC,QAAQ,EAAI,CAChBL,QAAQ,CAACK,QAAQ,CAACC,IAAI,CAAC,CAAG;AAC5B,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAE,aAAa,CAAGX,KAAK,CAACY,MAAM,CAAEC,IAAI,EAAK,CAC3C,KAAM,CAAAC,WAAW,CAAGZ,MAAM,CAACa,WAAW,CAAC,CAAC,CACxC,MACE,CAAAF,IAAI,CAACG,QAAQ,CAACD,WAAW,CAAC,CAAC,CAACE,QAAQ,CAACH,WAAW,CAAC,EACjDD,IAAI,CAACK,UAAU,CAACH,WAAW,CAAC,CAAC,CAACE,QAAQ,CAACH,WAAW,CAAC,CAEvD,CAAC,CAAC,CAEF,mBACEhB,KAAA,QAAKqB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BxB,IAAA,OAAAwB,QAAA,CAAI,WAAS,CAAI,CAAC,cAGlBxB,IAAA,QAAKuB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BxB,IAAA,UACEyB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,qCAAqC,CACjDC,KAAK,CAAErB,MAAO,CACdsB,QAAQ,CAAGC,CAAC,EAAKtB,SAAS,CAACsB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3CJ,SAAS,CAAC,YAAY,CACvB,CAAC,CACC,CAAC,cAGNrB,KAAA,UAAOqB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACtCxB,IAAA,UAAAwB,QAAA,cACEtB,KAAA,OAAAsB,QAAA,eACExB,IAAA,OAAAwB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBxB,IAAA,OAAAwB,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBxB,IAAA,OAAAwB,QAAA,CAAI,QAAM,CAAI,CAAC,EACb,CAAC,CACA,CAAC,cACRxB,IAAA,UAAAwB,QAAA,CACGT,aAAa,CAACgB,GAAG,CAAEd,IAAI,eACtBf,KAAA,OAAAsB,QAAA,eACExB,IAAA,OAAAwB,QAAA,CAAKP,IAAI,CAACG,QAAQ,CAAK,CAAC,KAAE,cAC1BpB,IAAA,OAAAwB,QAAA,CAAKP,IAAI,CAACK,UAAU,CAAK,CAAC,KAAE,cAC5BtB,IAAA,OAAAwB,QAAA,cAAIxB,IAAA,CAACH,IAAI,EAACmC,EAAE,gBAAAC,MAAA,CAAiBhB,IAAI,CAACiB,QAAQ,CAAG,CAAAV,QAAA,CAAC,WAAS,CAAM,CAAC,CAAI,CAAC,GAH5DP,IAAI,CAACkB,EAIV,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}